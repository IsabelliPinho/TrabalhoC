#include <stdio.h>
#include <stdlib.h> // exit(0)
#include <time.h>   // time(), ctime()


char nome[20];
int quant = 10000, NumConta, trans;


void menu();
void depositar();
void sacar();
void transferir();
void vizuConta();
void detalhesTrans();
void maisDetalhes();

int main()
{
    int esc;
    printf("Insira seu nome completo:\n ");
    fgets(nome, sizeof(nome), stdin);
    
    printf("Insira o numero da conta:\n ");
    scanf("%d", &NumConta);
    
    menu();
    printf("Insira sua escolha: \n");
    scanf("%d", &esc);
    
    switch (esc)
    {
        case 1:
            depositar();
            break;
        case 2:
            sacar();
            break;
        case 3:
            transferir();
            break;
        case 4:
            vizuConta();
            break;
        case 5:
            detalhesTrans();
            break;
        case 6:
            maisDetalhes();
            exit(0);
            break;
        default:
            printf("Escolha invalida.\n");
            break;
    }
    
    return 0;
}

void menu()
{
    printf("---MENU PRINCIPAL---\n");
    printf("1. Depositar\n");
    printf("2. Sacar\n");
    printf("3. Transferir\n");
    printf("4. Visualizar Conta\n");
    printf("5. Detalhes da Transação\n");
    printf("6. Sair\n");
}

void transferir()
{
    printf("- Transferir Valor -\n");
    for(int i = 0; i < 50; i++){
        printf("-");
    }
    printf("\nInsira o valor a ser transferido: ");
    scanf("%d", &trans);
    
    if (quant < trans){
        printf("** Saldo Insuficiente **\n");
    }
    else{
        time_t tempo;
        time(&tempo);
        quant = quant - trans;
        printf("** Transferencia Concluida **\n");
        printf("Saldo Restante: %d\n", quant);
        printf("Data/Hora da Transferencia: %s\n", ctime(&tempo));
    }
}

void vizuConta()
{
    printf("- Visualizar Conta -\n");
    for(int i = 0; i < 50; i++){
        printf("-");
    }
    printf("\nNome: %s", nome); 
    printf("Conta: %d\n", NumConta);
    printf("Saldo Total: %d\n", quant);
    printf("Pressione qualquer tecla para continuar...\n");
    getchar();  
}


void depositar() {
    printf("Função Depositar ainda não implementada.\n");
}

void sacar() {
    printf("Função Sacar ainda não implementada.\n");
}

void detalhesTrans() {
    printf("Função Detalhes da Transação ainda não implementada.\n");
}

void maisDetalhes() {
    printf("Função Mais Detalhes ainda não implementada.\n");
}
